--- linux-2.6.22.1/fs/compat_ioctl.c    2007-07-10 14:56:30.000000000 -0400
+++ linux/fs/compat_ioctl.c     2007-08-13 21:18:26.000000000 -0400
@@ -113,6 +113,7 @@
 #include <linux/dvb/frontend.h>
 #include <linux/dvb/video.h>
 #include <linux/lp.h>
+#include <linux/msdos_fs.h>
 
 static int do_ioctl32_pointer(unsigned int fd, unsigned int cmd,
                              unsigned long arg, struct file *f)
@@ -3489,6 +3490,8 @@
 
 IGNORE_IOCTL(VFAT_IOCTL_READDIR_BOTH32)
 IGNORE_IOCTL(VFAT_IOCTL_READDIR_SHORT32)
+ULONG_IOCTL(FAT_IOCTL_GET_ATTRIBUTES)
+ULONG_IOCTL(FAT_IOCTL_SET_ATTRIBUTES)
 };
 
 #define IOCTL_HASHSIZE 256
